"use strict";(self.webpackChunknabd=self.webpackChunknabd||[]).push([[959],{7134:(I,b,n)=>{n.d(b,{A:()=>S});var d=n(1180),f=n(553),m=n(7398),t=n(5879),u=n(9862);let S=(()=>{var p;class g{constructor(r){(0,d.Z)(this,"http",void 0),(0,d.Z)(this,"baseUrl",f.N.medicine),(0,d.Z)(this,"uploadUrl",f.N.upload),this.http=r}getMedicines(r,l,_){return this.http.get(`${this.baseUrl}?pageNo=${r}&pageSize=${l}`+(_?`&filter=${_}`:""))}getMedicine(r){return this.http.get(`${this.baseUrl}/${r}`).pipe((0,m.U)(l=>l.data.nameInEng))}deleteMedicine(r){return this.http.delete(`${this.baseUrl}/delete/${r}`)}getPatients(r){return this.http.get(`${this.baseUrl}/patient/${r}`)}replaceMedicine(r,l){return this.http.get(`${this.baseUrl}/${r}/${l.id}`)}uploadFile(r){return this.http.post(`${this.uploadUrl}`,r,{headers:{responseType:"blob"}})}deactivateMedicine(r,l){return this.http.put(`${this.baseUrl}/${r}/patient/${l}/deactivate`,{})}activateMedicine(r,l){return this.http.put(`${this.baseUrl}/${r}/patient/${l}/activate`,{})}}return p=g,(0,d.Z)(g,"\u0275fac",function(r){return new(r||p)(t.LFG(u.eN))}),(0,d.Z)(g,"\u0275prov",t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})),g})()},9280:(I,b,n)=>{n.d(b,{e:()=>S});var d=n(1180),f=n(553),m=n(7398),t=n(5879),u=n(9862);let S=(()=>{var p;class g{constructor(r){(0,d.Z)(this,"http",void 0),(0,d.Z)(this,"baseUrl",f.N.patient),(0,d.Z)(this,"historyUrl",f.N.history),this.http=r}createPatient(r){return this.http.post(`${this.baseUrl}`,r)}editPatient(r,l){return this.http.put(`${this.baseUrl}/${r}`,l)}deactivatePatient(r){return this.http.put(`${this.baseUrl}/deactivate/${r}`,{})}getPatient(r){return this.http.get(`${this.baseUrl}/${r}`).pipe((0,m.U)(l=>l.data))}deletePatient(r){return this.http.delete(`${this.baseUrl}/${r}`)}getMedicine(r){return this.http.get(`${this.baseUrl}/${r}/medicine`).pipe((0,m.U)(l=>l.data))}getHistory(r,l,_){return this.http.get(`${this.baseUrl}/${r}/history?year=${l}&month=${_}`).pipe((0,m.U)(M=>M.data))}addHistory(r,l,_,M){return this.http.post(`${this.historyUrl}/patient/${r}?year=${l}&month=${_}`,M)}deleteHistory(r){return this.http.delete(`${this.historyUrl}/${r}`)}editHistory(r,l){return this.http.put(`${this.historyUrl}/${r}`,l)}addMedicine(r,l,_){return this.http.post(`${this.baseUrl}/${r}/medicine/${l}`,_)}editMedicine(r,l){return this.http.put(`${this.baseUrl}/medicine/${r}`,l)}deleteMedicine(r){return this.http.delete(`${this.baseUrl}/medicine/${r}`)}deleteSpecialization(r,l){return this.http.delete(`${this.baseUrl}/${l}/specialization/${r}`)}getHistoryDates(r){return this.http.get(`${this.baseUrl}/${r}/history/dates`).pipe((0,m.U)(l=>l.data))}getAllMedicine(r){return this.http.get(`${this.baseUrl}/${r}/medicine/all`).pipe((0,m.U)(l=>l.data))}}return p=g,(0,d.Z)(g,"\u0275fac",function(r){return new(r||p)(t.LFG(u.eN))}),(0,d.Z)(g,"\u0275prov",t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})),g})()},3998:(I,b,n)=>{n.r(b),n.d(b,{LocationsModule:()=>rt});var d=n(1180),f=n(6814),m=n(2787),t=n(5879),u=n(5313),S=n(3365),p=n(1933),g=n(7921),D=n(4664),r=n(6306),l=n(2096),_=n(7398),M=n(4698),$=n(9766),C=n(7700),O=n(782),B=n(304),A=n(2296),R=n(617),Z=n(2032),E=n(5683),w=n(6223),U=n(6007);const P=["addRegionTemp"];function L(o,c){if(1&o){const a=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return t.KtG(s.openRegion())}),t.TgZ(1,"span",4),t._UZ(2,"mat-icon",20),t._uU(3," \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0637\u0642\u0629 "),t.qZA()()}}function N(o,c){1&o&&(t.TgZ(0,"th",21),t._uU(1," \u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"),t.qZA())}function H(o,c){if(1&o&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&o){const a=c.$implicit;t.xp6(1),t.hij(" ",a.locationName," ")}}function F(o,c){1&o&&(t.TgZ(0,"th",21),t._uU(1," \u0625\u062c\u0631\u0627\u0621\u0627\u062a"),t.qZA())}function j(o,c){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"button",29),t.NdJ("click",function(){t.CHM(a);const s=t.oxw().$implicit,h=t.oxw();return t.KtG(h.editRegion(s))}),t.TgZ(2,"span",4),t._UZ(3,"mat-icon",20),t._uU(4," \u062a\u0639\u062f\u064a\u0644 "),t.qZA()(),t.TgZ(5,"button",30),t.NdJ("click",function(){t.CHM(a);const s=t.oxw().$implicit,h=t.oxw();return t.KtG(h.deleteRegion(s))}),t.TgZ(6,"span",4),t._UZ(7,"mat-icon",31),t._uU(8," \u062d\u0630\u0641 "),t.qZA()(),t.TgZ(9,"button",3),t.NdJ("click",function(){t.CHM(a);const s=t.oxw().$implicit,h=t.oxw();return t.KtG(h.printLocation(s.id))}),t.TgZ(10,"span",4),t._UZ(11,"mat-icon",5),t._uU(12," \u0637\u0628\u0627\u0639\u0629 "),t.qZA()(),t.BQk()}}function Y(o,c){if(1&o&&(t.TgZ(0,"td",22)(1,"div",23),t.YNc(2,j,13,0,"ng-container",24),t.TgZ(3,"a",25)(4,"button",26)(5,"span",27),t._UZ(6,"mat-icon",28),t._uU(7," \u062d\u0627\u0644\u0627\u062a \u0627\u0644\u0645\u0646\u0637\u0642\u0629 "),t.qZA()()()()()),2&o){const a=c.$implicit,e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.authService.isUserNormal()),t.xp6(1),t.Q6J("routerLink","../"+a.id)}}function z(o,c){1&o&&t._UZ(0,"tr",32)}function V(o,c){1&o&&t._UZ(0,"tr",33)}function J(o,c){1&o&&t._UZ(0,"mat-progress-bar",34)}function K(o,c){if(1&o){const a=t.EpF();t.TgZ(0,"div",35)(1,"button",36)(2,"mat-icon"),t._uU(3,"close"),t.qZA()(),t.TgZ(4,"mat-form-field",37)(5,"mat-label"),t._uU(6,"\u0625\u0633\u0645 \u0627\u0644\u0645\u0646\u0637\u0642\u0629"),t.qZA(),t.TgZ(7,"input",38),t.NdJ("ngModelChange",function(s){t.CHM(a);const h=t.oxw();return t.KtG(h.regionName=s)}),t.qZA()(),t.TgZ(8,"button",39),t._uU(9),t.qZA()()}if(2&o){const a=t.oxw();t.xp6(1),t.Q6J("mat-dialog-close","close")("autofocus",!1),t.xp6(6),t.Q6J("ngModel",a.regionName),t.xp6(1),t.Q6J("mat-dialog-close","submit")("disabled",a.regionName.length<3),t.xp6(1),t.hij(" ",a.regionId?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u0637\u0642\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u0637\u0642\u0629"," ")}}const Q=function(){return[10,25,100]};let W=(()=>{var o;class c{constructor(e,s,h){(0,d.Z)(this,"dialog",void 0),(0,d.Z)(this,"locationService",void 0),(0,d.Z)(this,"authService",void 0),(0,d.Z)(this,"displayedColumns",["region","action"]),(0,d.Z)(this,"dataSource",new u.by([])),(0,d.Z)(this,"regionName",""),(0,d.Z)(this,"regionId",""),(0,d.Z)(this,"paginator",void 0),(0,d.Z)(this,"addRegionTemp",void 0),(0,d.Z)(this,"totalElements",10),(0,d.Z)(this,"data",void 0),(0,d.Z)(this,"isLoading",!0),(0,d.Z)(this,"printService",(0,t.f3M)($.$)),(0,d.Z)(this,"router",(0,t.f3M)(m.F0)),(0,d.Z)(this,"toast",(0,t.f3M)(M.jE)),this.dialog=e,this.locationService=s,this.authService=h}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.paginator.page.pipe((0,g.O)({}),(0,D.w)(()=>(this.isLoading=!0,this.locationService.getLocations(this.paginator.pageIndex,this.paginator.pageSize).pipe((0,r.K)(()=>(0,l.of)(null))))),(0,_.U)(e=>null==e?[]:(this.totalElements=e.totalElements,this.isLoading=!1,e.data))).subscribe(e=>{this.data=e,this.dataSource=new u.by(this.data)})}getRegion(e){this.locationService.getLocations(e.pageIndex,e.pageSize).subscribe(s=>{this.dataSource=new u.by(s.data),this.totalElements=s.totalElements})}openRegion(){this.dialog.open(this.addRegionTemp).afterClosed().subscribe(s=>{"submit"===s&&this.addRegion()})}editRegion(e){this.regionId=e.id,this.regionName=e.locationName,this.dialog.open(this.addRegionTemp).afterClosed().subscribe(h=>{this.regionName="","submit"===h&&this.locationService.editLocations(this.regionName,this.regionId).subscribe(x=>{this.toast.success("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",{duration:5e3,position:"top-right",theme:"snackbar"}),this.getRegion({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})})})}addRegion(){this.locationService.createLocation({locationName:this.regionName}).subscribe(e=>{this.dialog.closeAll(),this.getRegion({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})})}deleteRegion(e){this.dialog.open(p.h,{disableClose:!0,data:{message:`\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0627\u0643\u062f \u0627\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u0637\u0642\u0629 ${e.locationName} \u061f`}}).afterClosed().subscribe(h=>{h&&this.locationService.deleteLocations(e.id).subscribe(x=>{this.toast.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u0637\u0642\u0629",{duration:5e3,position:"top-right",theme:"snackbar"}),this.getRegion({pageIndex:this.paginator.pageIndex,pageSize:this.paginator.pageSize})})})}printAll(){this.printService.printAll().subscribe(e=>{this.router.navigate(["/print"],{state:{data:e}})})}printLocation(e){this.printService.printLocation(e).subscribe(s=>{this.router.navigate(["/print"],{state:{data:[s]}})})}}return o=c,(0,d.Z)(c,"\u0275fac",function(e){return new(e||o)(t.Y36(C.uw),t.Y36(O.a),t.Y36(B.e))}),(0,d.Z)(c,"\u0275cmp",t.Xpm({type:o,selectors:[["app-Locations-management-management"]],viewQuery:function(e,s){if(1&e&&(t.Gf(S.NW,5),t.Gf(P,5)),2&e){let h;t.iGM(h=t.CRH())&&(s.paginator=h.first),t.iGM(h=t.CRH())&&(s.addRegionTemp=h.first)}},decls:24,vars:9,consts:[[1,"text-2xl","border-r-4","border-r-primary-500","font-bold","text-primary-500","mr-5","pr-2","mb-8","mt-10"],[1,"flex","mt-10","gap-4","justify-end","ml-10"],["mat-raised-button","","color","primary","class"," ",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"flex","gap-2.5"],["aria-hidden","false","fontIcon","print"],[1,"mt-10","px-10"],[1,"mat-elevation-z8","w-full"],[1,"overflow-x-auto"],["mat-table","",1,"rounded-lg",3,"dataSource"],["matColumnDef","region"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","indeterminate",4,"ngIf"],[3,"length","pageSize","pageSizeOptions"],["addRegionTemp",""],["mat-raised-button","","color","primary",1,"",3,"click"],["aria-hidden","false","fontIcon","edit"],["mat-header-cell",""],["mat-cell",""],[1,"gap-3.5","flex"],[4,"ngIf"],[3,"routerLink"],["mat-raised-button","","color","primary"],[1,"flex","gap-2.5","items-center","whitespace-nowrap"],["aria-hidden","false","fontIcon","group"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],["aria-hidden","false","fontIcon","delete"],["mat-header-row",""],["mat-row",""],["mode","indeterminate"],[1,"flex","flex-col","justify-center","py-16","px-24","relative"],["mat-icon-button","",1,"!absolute","top-2","left-2",3,"mat-dialog-close","autofocus"],[1,"example-full-width"],["matInput","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",1,"mt-10",3,"mat-dialog-close","disabled"]],template:function(e,s){1&e&&(t.TgZ(0,"h3",0),t._uU(1,"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0627\u0637\u0642"),t.qZA(),t.TgZ(2,"div",1),t.YNc(3,L,4,0,"button",2),t.TgZ(4,"button",3),t.NdJ("click",function(){return s.printAll()}),t.TgZ(5,"span",4),t._UZ(6,"mat-icon",5),t._uU(7," \u0637\u0628\u0627\u0639\u0629 "),t.qZA()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"table",9),t.ynx(12,10),t.YNc(13,N,2,0,"th",11),t.YNc(14,H,2,1,"td",12),t.BQk(),t.ynx(15,13),t.YNc(16,F,2,0,"th",11),t.YNc(17,Y,8,2,"td",12),t.BQk(),t.YNc(18,z,1,0,"tr",14),t.YNc(19,V,1,0,"tr",15),t.qZA()(),t.YNc(20,J,1,0,"mat-progress-bar",16),t._UZ(21,"mat-paginator",17),t.qZA()(),t.YNc(22,K,10,6,"ng-template",null,18,t.W1O)),2&e&&(t.xp6(3),t.Q6J("ngIf",s.authService.isUserSuperAdmin()),t.xp6(8),t.Q6J("dataSource",s.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("length",s.totalElements)("pageSize",10)("pageSizeOptions",t.DdM(8,Q)))},dependencies:[f.O5,m.rH,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,S.NW,A.lW,A.RK,R.Hw,Z.Nt,E.KE,E.hX,w.Fj,w.JJ,w.On,C.ZT,U.pW]})),c})();var k=n(8235),G=n(3570);const X=[{path:"",pathMatch:"full",redirectTo:"management"},{path:"management",component:W},{path:":id",component:k.k,resolve:{name:G.N}}];let q=(()=>{var o;class c{}return o=c,(0,d.Z)(c,"\u0275fac",function(e){return new(e||o)}),(0,d.Z)(c,"\u0275mod",t.oAB({type:o})),(0,d.Z)(c,"\u0275inj",t.cJS({imports:[m.Bz.forChild(X),m.Bz]})),c})();var y=n(3680),tt=n(8645);n(6825);let T=(()=>{var o;class c{constructor(){this.changes=new tt.x}}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),c})();const it={provide:T,deps:[[new t.FiY,new t.tp0,T]],useFactory:function et(o){return o||new T}};let ot=(()=>{var o;class c{}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[it],imports:[f.ez,y.BQ]}),c})(),rt=(()=>{var o;class c{}return o=c,(0,d.Z)(c,"\u0275fac",function(e){return new(e||o)}),(0,d.Z)(c,"\u0275mod",t.oAB({type:o})),(0,d.Z)(c,"\u0275inj",t.cJS({imports:[f.ez,q,u.p0,ot,S.TU,A.ot,R.Ps,Z.c,w.u5,C.Is,U.Cv]})),c})()}}]);